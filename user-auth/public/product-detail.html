<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
        <title id="dynamic-title">Product Details | Swarize</title>
        <meta id="meta-description" name="description" content="Find the best products on Swarize with quality details, pricing, reviews and fast delivery." />
        <meta id="meta-keywords" name="keywords" content="shopping, online store, buy, swarize" />
        
        <!-- Open Graph for social sharing -->
        <meta property="og:type" content="product" />
        <meta property="og:site_name" content="Swarize" />
        <meta id="og-title" property="og:title" content="Product Details | Swarize" />
        <meta id="og-description" property="og:description" content="Discover top quality products on Swarize. Read reviews, view images and order online now." />
        <meta id="og-image" property="og:image" content="/default-thumbnail.jpg" />
        <meta id="og-url" property="og:url" content="" />
      
        <!-- Twitter Card -->
        <meta name="twitter:card" content="summary_large_image" />
        <meta id="twitter-title" name="twitter:title" content="Product Details | Swarize" />
        <meta id="twitter-description" name="twitter:description" content="Explore premium products on Swarize. Trusted reviews, secure shopping and fast delivery." />
        <meta id="twitter-image" name="twitter:image" content="/default-thumbnail.jpg" />
              <link rel="icon" href="/favicon.ico">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

        <link rel="stylesheet" href="/product-detail.css" />
      </head>
      
<body>

    <nav class="navbar">
        <div class="navbar-container">
            <div class="logo-container">
                <a href="index.html" class="logo-link">
                <span class="logo-text">S</span> <!-- Swarize logo -->
                </a>
            </div>

                <div class="search-container collapsed" id="searchBox">
                  <input type="text" id="search-input" placeholder="Search...">
                  <button id="search-button">
                    <i class="fas fa-search"></i>
                  </button> 
                </div>

      
            <!-- Navbar Menu -->
            <ul class="menu">
              <!-- Login Dropdown -->
              <li class="dropdown login-dropdown">
                <button class="dropdown-button">Login</button>
                <div class="dropdown-content login-content">
                  <a href="signin.html">Sign In</a>
                  <a href="signup.html">Sign Up</a>
                </div>
              </li>
      
              <li><a href="addtocart.html" class="menu-item">Add to Cart</a></li>
              <li><a href="home.html" class="menu-item">Home</a></li>
            </ul>

          </div>
    </nav>
    
   
      
  




 <div class="product-container">
    <!-- Image Slider & Store Info -->
    <div class="product-image-section">
      <div class="slider-container">
        <button class="slider-btn prev" onclick="moveSlide(-1)">‹</button>
        <div class="slider-track" id="media-slider"></div>
        <button class="slider-btn next" onclick="moveSlide(1)">›</button>
      </div>

              <h3 id="preview-store-name">Sold by: <span id="store-link">Unknown Store</span></h3>

    </div>

    <div class="product-info">
  <div class="product-header">
        <div class="spec-brand"><strong> </strong> <span id="preview-brand"></span></div>

    <h1 id="preview-name">Product Name</h1>
    <div class="star-rating"> <span id="rating-count"> </span>
    </div>
    <h2 id="preview-price">₹ <span class="original-price">₹</span> <span class="discount"> </span></h2>
  </div>

  <div class="product-selections">
    <div class="selection-row">
      <label>Color:</label>
      <div id="preview-color" class="color-container">---</div>
    </div>

    <div class="selection-row">
      <label>Size:</label>
      <div id="preview-size" class="size-container">M / L</div>
      <button id="size-chart-btn" class="size-chart-trigger">Size Chart</button>
    </div>
  </div>

  <div class="action-buttons">
    <button class="buy-now">Buy Now</button>
    <button class="add-to-cart">Add to Cart</button>
  </div>

  <div class="product-details-section">
    <div class="spec-row"><strong>Category:</strong> <span id="preview-subcategory"></span></div>
    <div class="spec-row"><strong>Material:</strong> <span id="preview-material"></span></div>
    <div class="spec-row"><strong>Pattern:</strong> <span id="preview-pattern"></span></div>
    <div class="spec-row"><strong>Wash Care:</strong> <span id="preview-wash-care"></span></div>
    <div class="spec-row"><strong>Model:</strong> <span id="preview-model-style"></span></div>
    <div class="spec-row"><strong>Available in:</strong> <span id="preview-available-in"></span></div>
  </div>

  <div class="collapsible-desc">
  <button id="toggle-desc-btn">+ Product Description</button>
  <div id="desc-summary-content" style="display: none;">
    <p id="preview-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
    <p id="preview-summary">More details about the product features and materials.</p>
    <button id="toggle-less-btn">- Show Less</button>
  </div>
</div>

  <div class="product-info-note">
    <ul>
      <li><strong>Note:</strong> No COD / RTO available.</li>
      <li>✔ Free Delivery across India</li>
    </ul>
  </div>
</div>

<!-- Size Chart Modal -->
<div id="size-chart-overlay"></div>
<div id="size-chart-modal">
  <h3>Size Chart</h3>
  <div id="size-chart-content">Loading...</div>
  <button id="close-size-chart">Close</button>
</div>





   <!-- Review Section -->
<!-- Review Section -->
<div class="review-section">
    <h3>Customer Reviews</h3>
    
<!-- Reviews Section -->
<div class="review-section">
   
    
    <h3>Submit Your Review</h3>
    <p id="review-message"></p>
    <select id="rating">
        <option value="5">★★★★★ (5 Stars)</option>
        <option value="4">★★★★☆ (4 Stars)</option>
        <option value="3">★★★☆☆ (3 Stars)</option>
        <option value="2">★★☆☆☆ (2 Stars)</option>
        <option value="1">★☆☆☆☆ (1 Star)</option>
    </select>
    <textarea id="comment" placeholder="Write your review here..."></textarea>
    <button id="submit-review">Submit Review</button>


    <h3>Customer Reviews</h3>
    <div id="reviews-container">No reviews yet.</div>
</div>








<div class="container">
    <div class="product-header">
      <div class="product-images">
        <img id="mainImage" class="product-main-image" src="" alt="Product Image">
        <div class="product-gallery" id="gallery"></div>
      </div>
      <div class="product-info">
        <h1 class="product-title" id="productName">Product Name</h1>
        <div class="product-price-section">
          <span class="product-display-price" id="displayPrice"></span>
          <span class="product-price" id="price">₹0.00</span>
        </div>
        <p class="product-summary" id="summary">Short summary here</p>
        <p><strong>Category:</strong> <span id="category">-</span></p>
        <p><strong>Subcategory:</strong> <span id="subcategory">-</span></p>
        <p><strong>Available In:</strong> <span id="availableIn">All Over India</span></p>
      </div>
    </div>

    <div class="product-attributes">
      <h3>Product Details</h3>
      <p><strong>Product Code:</strong> <span id="productCode">-</span></p>
      <p><strong>Material/Fabric:</strong> <span id="material">-</span></p>
      <p><strong>Color:</strong> <span id="color">-</span></p>
      <p><strong>Pattern:</strong> <span id="pattern">-</span></p>
      <p><strong>Saree Size:</strong> <span id="sareeSize">-</span></p>
      <p><strong>Blouse Size:</strong> <span id="blouseSize">-</span></p>
      <p><strong>Available Sizes:</strong> <span id="availableSizes">-</span></p>
      <p><strong>Occasion:</strong> <span id="occasion">-</span></p>
      <p><strong>Wash Care:</strong> <span id="washCare">-</span></p>
    </div>

    <div class="tabs">
      <div class="tab" onclick="toggleTab('descriptionTab')">Description</div>
      <div class="tab-content" id="descriptionTab">
        <p id="description">Full product description here</p>
      </div>
    </div>
  </div>


  <script>
  // Example: fetch product ID from URL
  const urlParams = new URLSearchParams(window.location.search);
  const productId = urlParams.get('id'); // ?id=productId

  async function fetchProduct() {
    if (!productId) return;
    try {
      const res = await fetch(`/api/products/${productId}`);
      const data = await res.json();
      if (!data.success) return console.error("Product not found");

      const p = data.product;

      // Media
      document.getElementById('mainImage').src = p.thumbnailImage || '';
      const gallery = document.getElementById('gallery');
      gallery.innerHTML = '';
      if (p.extraImages) p.extraImages.forEach(img => {
        const i = document.createElement('img');
        i.src = img;
        i.addEventListener('click', () => document.getElementById('mainImage').src = img);
        gallery.appendChild(i);
      });
      if (p.extraVideos) p.extraVideos.forEach(vid => {
        const v = document.createElement('video');
        v.src = vid;
        v.controls = true;
        v.addEventListener('click', () => document.getElementById('mainImage').src = vid);
        gallery.appendChild(v);
      });

      // Text Fields
      document.getElementById('productName').textContent = p.name || '-';
      document.getElementById('price').textContent = `₹${p.price || 0}`;
      document.getElementById('displayPrice').textContent = p.displayPrice ? `₹${p.displayPrice}` : '';
      document.getElementById('summary').textContent = p.summary || '-';
      document.getElementById('category').textContent = p.category || '-';
      document.getElementById('subcategory').textContent = p.subcategory || '-';
      document.getElementById('availableIn').textContent = p.availableIn || 'All Over India';

      // Attributes
      document.getElementById('productCode').textContent = p.productCode || '-';
      document.getElementById('material').textContent = p.material || '-';
      document.getElementById('color').textContent = p.color || '-';
      document.getElementById('pattern').textContent = p.pattern || '-';
      document.getElementById('sareeSize').textContent = p.sareeSize ? `${p.sareeSize} meters` : '-';
      document.getElementById('blouseSize').textContent = p.blouseSize ? `${p.blouseSize} meters` : '-';
      document.getElementById('availableSizes').textContent = p.availableSizes ? p.availableSizes.join(', ') : '-';
      document.getElementById('occasion').textContent = p.occasion || '-';
      document.getElementById('washCare').textContent = p.washCare || '-';

      // Description tab
      document.getElementById('description').textContent = p.description || '-';
    } catch (err) {
      console.error("Error fetching product:", err);
    }
  }

  function toggleTab(tabId) {
    const el = document.getElementById(tabId);
    if (el.classList.contains('tab-active')) el.classList.remove('tab-active');
    else el.classList.add('tab-active');
  }

  fetchProduct();
</script>

    <script src="product-detail.js"></script>
</body>
</html>
